---

# Apex
'':
  - type: A
    ttl: 3600
    # https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain
    values:
      - 185.199.108.153
      - 185.199.109.153
      - 185.199.110.153
      - 185.199.111.153
  - type: AAAA
    ttl: 3600
    values:
      - 2606:50c0:8000::153
      - 2606:50c0:8001::153
      - 2606:50c0:8002::153
      - 2606:50c0:8003::153

  - type: MX
    ttl: 3600
    values:
      - exchange: mx01.mail.icloud.com.
        preference: 10
      - exchange: mx02.mail.icloud.com.
        preference: 10
  - type: TXT
    ttl: 3600
    values:
      - apple-domain=n16Lv8A4qKoIAYrN
      - >-
        v=spf1
        include:icloud.com
        ~all

# DKIM key
sig1._domainkey:
  type: CNAME
  ttl: 3600
  value: sig1.dkim.awicks.io.at.icloudmailadmin.com.


### Letsencrypt setup
# Problem: We have multi-authoritative setup
# Letsencrypt will resolve our _acme-challenge record to verify ownership
# This uses letsencrypt's recursors, which will pick a random NS
# Unless we add our validation record to _all_ providers, this could fail
#
# Solution:
# 1. Create CNAMEs for the _acme-challenge records we care about
# 2. Point these to another zone, which is delegated to only _one_ provider
# 3. Our ACME client only needs to talk to one DNS API to add records
# Reference: https://github.com/acmesh-official/acme.sh/wiki/DNS-alias-mode
# N.B. this zone is not redundant across providers
# However, LE certs have 3mo expiry - plenty of time to intervene if needed...
acme:
  type: NS
  ttl: 3600
  values:
    - ns1.digitalocean.com.
    - ns2.digitalocean.com.
    - ns3.digitalocean.com.
_acme-challenge: &acme_cname
  type: CNAME
  ttl: 3600
  value: _acme-challenge.acme.awicks.io.
_acme-challenge.www:
  <<: *acme_cname
_acme-challenge.lf:
  <<: *acme_cname

cv: &aw1cks_github_pages
  type: CNAME
  ttl: 3600
  value: aw1cks.github.io.

home: &aw1cks_forks_github_pages
  type: CNAME
  ttl: 3600
  value: aw1cks-forks.github.io.


lf:
  type: A
  ttl: 3600
  values:
    - 217.155.117.57
lp:
  - type: A
    ttl: 3600
    value: 89.36.67.149
  - type: AAAA
    ttl: 3600
    value: 2a01:4b00:ab3d:a200::1

mumble: &mumble
  type: A
  ttl: 3600
  values:
    - 78.47.138.224

rtmp:
  <<: *mumble

www:
  <<: *aw1cks_github_pages
